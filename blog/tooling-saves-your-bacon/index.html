<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>scott fryxell</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/7a68779.js" as="script"><link rel="preload" href="/_nuxt/f0d70cd.js" as="script"><link rel="preload" href="/_nuxt/da57a58.js" as="script"><link rel="preload" href="/_nuxt/a051e51.js" as="script"><link rel="preload" href="/_nuxt/1bd4eb5.js" as="script"><style data-vue-ssr-id="517a8dd7:0 fa7ff0ca:0 86150b90:0 8b7b70e6:0">code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}main{margin:auto;flex-direction:column}main h1{padding:1rem;text-transform:capitalize}main h1>a{color:inherit}@media (prefers-color-scheme:dark){main h1>a{color:rgba(208,208,201,.9)}}main>header{display:flex}main>header>h1{padding:1rem}main>header>nav{align-self:center}main>header>nav>a{margin-right:1rem}article.post>header>img{width:75vw}article.post>header>h1{padding:0 1rem}article.post>details{display:inline-block;margin-left:1rem}article.post>details summary{font-size:small;opacity:.4}article.post>details>nav>a{text-decoration:none;line-height:2;margin-left:1rem;display:block}article.post .nuxt-content{margin:auto;max-width:33rem}</style><link rel="preload" href="/_nuxt/static/1636479464/blog/tooling-saves-your-bacon/state.js" as="script"><link rel="preload" href="/_nuxt/static/1636479464/blog/tooling-saves-your-bacon/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1636479464/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main><header><link rel="stylesheet" href="https://realness.online/css/app~d0ae3f07.d9c9600f.css"> <h1><a href="/">Scott Fryxell</a></h1> <nav><a href="/resume">Work</a> <a href="https://cash.app/$ScottFryxell">$</a></nav></header> <article class="post"><header><!----> <img src="/abstract-flower.svg" alt="The outline of a flower; framed by green and pale red patterns."> <h1><a href="/blog/tooling-saves-your-bacon" aria-current="page" class="nuxt-link-exact-active nuxt-link-active">tooling saves your bacon</a></h1></header> <details><summary>Last updated: November 9, 2021</summary> <nav><a href="/blog/tooling-saves-your-bacon#state-of-the-application">State of the application</a><a href="/blog/tooling-saves-your-bacon#state-of-the-nerds">State of the nerds</a><a href="/blog/tooling-saves-your-bacon#schedule-for-work">Schedule for work</a><a href="/blog/tooling-saves-your-bacon#broadcasting-a-program">Broadcasting a program</a><a href="/blog/tooling-saves-your-bacon#browsing-a-feed">Browsing a feed</a><a href="/blog/tooling-saves-your-bacon#using-on-mobile">Using on mobile</a><a href="/blog/tooling-saves-your-bacon#why-it-worked">Why it worked</a></nav></details> <div class="nuxt-content"><p><em>Monday, November 8th 2021</em></p>
<p>Consultants have a bad reputation. It's common for development teams to view them with suspicion. They come in, make some sweeping statements, wow your management team and leave as useless as they are dramatic. But at VueSchool we think an engineering consultant is a different breed of consultant. Born in the trenches. A daily coder and a resource for you to lean on when having an external perspective can help your project ship.</p>
<p>Recently we helped a client with a consumer application sort through some performance problems as they bring their application out into the world. Stability and performance are their priority. Their business goal is to prove the app in the market place, secure a round of funding, take the beta off and go like hell.</p>
<p>Their CTO has been on the job for a month. He is comfortable with the product and can speak it's goals. He is not sure of the code quality. What state is this app in? How does it perform? He wants to know what he is working with.</p>
<h2 id="state-of-the-application"><a aria-hidden="true" href="#state-of-the-application" tabindex="-1"><span class="icon icon-link"></span></a>State of the application</h2>
<p>There is a history of crashes while a user is broadcasting, there have been extensive efforts made by the development team to address stability. We need to concretely prove that broadcasting works. Broadcasting is not as performant as other services. We need to understand why? Is there something in Vue or the Firebase stack that is bottlenecking performance?</p>
<p>The feed has a few problems. It is slow to load on mobile with initial paint time above six seconds. Any aggressive scrolling locks the feed up and it's UI is regularly below 60 frames per second. There are reports of the application locking up when browsing back and forth between the feed and a video stream.</p>
<h2 id="state-of-the-nerds"><a aria-hidden="true" href="#state-of-the-nerds" tabindex="-1"><span class="icon icon-link"></span></a>State of the nerds</h2>
<p>The CTO's goal is to get a clear picture of the state of this application. Where are we? Are these bugs related? What part does vue play? What happens when you broadcast for hours?  He's a seasoned guy, having run many teams in different parts of the software industry. But he doesn't know this stack. Vue is new to him, firebase is new to him.</p>
<p>He wants to get a baseline.</p>
<p>The lead engineer has been working night and day on this app for the past eighteen months. His was among the first commits to the project. He's been the architect and the force that's got the app built and working, He's gone hard and feels like this app is close, but he can't be the one to prove the app is in good enough shape to come out of beta.</p>
<p>He knows the app is working for him, but he's not confident about its stability for others. He's likes his application architecture and design choices and isn't looking to make dramatic changes this far into the project.</p>
<p>I have found that development teams with high standards also value external validation and are motivated by a practical humility to have people review their work.</p>
<h2 id="schedule-for-work"><a aria-hidden="true" href="#schedule-for-work" tabindex="-1"><span class="icon icon-link"></span></a>Schedule for work</h2>
<p>The client proposes we have Daily, 15 minute meetings with CTO and lead engineer where we do a quick review and clarify the marching orders. Once a week we get all the interested parties together for 45 minutes to go over progress and strategize next steps. We use Slack for regular focused conversations with the lead engineer. There are four weeks of work and I maintain a shared Google doc for each as a notebook of the facts.</p>
<h2 id="broadcasting-a-program"><a aria-hidden="true" href="#broadcasting-a-program" tabindex="-1"><span class="icon icon-link"></span></a>Broadcasting a program</h2>
<p>Tooling is the hero of this story. I had a localhost versions of the app running within 20 minutes of getting access to the code. On my dev machine I could create a profile, view profile interact with the full application. They had even gone so far as to apply a dev stylesheet so that the background made clear that you were working on development data.</p>
<p>I could broadcast immediately, I could as deep as I wanted into the code base.  go deep and play with a fully functional app. Right from the jump. Since I was connected to shared dev server I had a functioning feed with recent content that I could post too immediately available to me.</p>
<p>Any videos I created are stored in a dev site which is publicly available. I was immediately sharing videos of what I was doing with the team. I could go to the dev site from any machine and use it. This cleared the way for me to give clear and regular feedback to the team.</p>
<p>The customer support team make regular and extensive product walk throughs. I was a power user by the end of the first day.</p>
<p>We ran an initial twelve hour broadcast with the goal of identifying any memory leaks and performance problems. I used the dev site directly from an older machine (2013 MacBook Air) to see how the application performs under stress and to verify that the application will work reliably for the widest possible pool of broadcasters.</p>
<p>We broadcast program from one machine, added a second stream to the program from another laptop and then a third stream from a phone broadcaster to the stream. We ran three broadcasters on one stream for hours, We played pre-recorded videos on loop, exercised the chat function. Ran an ever-changing audio signal through the broadcast.</p>
<p>I hit this poor machine as hard as I could for the twelve hour stream and it performed flawlessly. It streamed the full twelve hours and could have continued forever. The laptop was stressed the entire broadcast. We were able to determine that the encoder had a gate which capped itself at 60% CPU utilization.  making reasonable tradeoffs between broadcast quality and machine capability. Memory usage was stable for a long period. There were no leaks.</p>
<p>It seemed to the CTO that the application was inneficient. He reasoned that a single program should be able to stream somewhere close to the amount of people that can join a google meetup or zoom call.</p>
<p>He wanted to understand what we were spending our performance budget on. My role was to gather the facts and document what is known and unknown. I am but a vessel for CTO and the tech lead to make decisions.</p>
<h2 id="browsing-a-feed"><a aria-hidden="true" href="#browsing-a-feed" tabindex="-1"><span class="icon icon-link"></span></a>Browsing a feed</h2>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<h2 id="using-on-mobile"><a aria-hidden="true" href="#using-on-mobile" tabindex="-1"><span class="icon icon-link"></span></a>Using on mobile</h2>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<h2 id="why-it-worked"><a aria-hidden="true" href="#why-it-worked" tabindex="-1"><span class="icon icon-link"></span></a>Why it worked</h2>
<ul>
<li>Tooling is flexible and was invested in</li>
<li>CTO is available and willing to commit resources to remove roadblocks. He has clear priorities for me and though is new cares for his team</li>
<li>Development team responds quickly to questions, are current and have an established culture of move fast and best practices.</li>
<li>The team is thinking with me about how to solve performance problems. My role is to be diligent and provide the right level of information and offer solutions that make the smallest amount of changes to the codebase</li>
</ul></div> <footer></footer></article> <footer><a href="https://nuxtjs.org/tutorials/creating-blog-with-nuxt-content/">Buiding from</a></footer></main></div></div><script defer src="/_nuxt/static/1636479464/blog/tooling-saves-your-bacon/state.js"></script><script src="/_nuxt/7a68779.js" defer></script><script src="/_nuxt/1bd4eb5.js" defer></script><script src="/_nuxt/f0d70cd.js" defer></script><script src="/_nuxt/da57a58.js" defer></script><script src="/_nuxt/a051e51.js" defer></script>
  </body>
</html>
